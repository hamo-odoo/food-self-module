<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="food_delivery_partner_form" model="ir.ui.view">
        <field name="name">food.delivery.partner.form</field>
        <field name="model">food.delivery.partner</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <button type="object" name="action_order_state_picked" attrs="{'invisible':['|',('current_order_assigned','=',[]),'|',('current_order_assigned','=',''),('current_order_state','!=','dp_assigned')]}">Picked</button>
                    <button type="object" name="action_order_state_delivered" attrs="{'invisible':['|',('current_order_assigned','=',[]),'|',('current_order_assigned','=',''),('current_order_state','!=','picked')]}">Delivered</button>
                </header>
                <sheet>
                    <h1><field name="name"/></h1>
                    <group>
                        <group><field name='current_order_state' invisible="True"/></group>
                        <group><field name="pay_type"/></group>
                        <group><field name="current_order_assigned"/></group>
                        <group><field name="active"/></group>

                        <notebook>
                            <page name="all_order" string="All orders">
                                <field name="all_order_ids" readonly="True">
                                    <tree>
                                        <field name="id"/>
                                        <field name="create_date"/>
                                        <field name="resturant_id"/>
                                        <field name="customer_id"/>
                                        <field name="state"/>
                                        <field name="total_price"/>
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                    </group>
                </sheet>
            </form>
        </field>
    </record>
    <record id="food_delivery_partner_view" model="ir.actions.act_window">
        <field name="name">Food Delivery Partner</field>
        <field name="res_model">food.delivery.partner</field>
        <field name="view_mode">tree,form</field>
    </record>
</odoo>
